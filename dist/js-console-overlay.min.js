class j{static setStyle(w,_){for(let D in _)w.style[D]=_[D]}static getCurrentTime(){const w=new Date;let _="";return _+=w.getHours().toString().padStart(2,"0"),_+=":",_+=w.getMinutes().toString().padStart(2,"0"),_+=":",_+=w.getSeconds().toString().padStart(2,"0"),_+=":",_+=w.getMilliseconds().toString().padStart(3,"0"),_}static formatData(w,_){let D="",q=[];if(Array.isArray(w)){D+="[";let z={type:"array",data:[]};for(let E of w){const F=this.formatData(E);D+=F[0]+", ",z.data.push(F[1])}q.push(z),D+="]"}else if(typeof w==="object"){D+="{";let z={type:"object",data:[]};for(let E in w){let F=this.formatData(w[E],"object");D+=`${E}: ${F[0]}, `,z.data.push({key:E,data:F[1]})}q.push(z),D+="}"}else if(typeof w==="number"||typeof w==="bigint")D+=w.toString(),q.push({type:"number",data:w});else if(typeof w==="string"){if(w.toString().startsWith("function "))D+="__fn()";else D+=_==="object"?`"${w}"`:`${w}`;q.push({type:"string",data:w})}else if(typeof w==="boolean")D+=w?"true":"false";else if(typeof w==="function"){const z=w.toString();D+=!z.includes("native code ")?"__fn()":z}else console.info("I DONT KNOW",typeof w);return[D,q]}}class H{element;constructor(w,..._){this.element=document.createElement("div"),this.setBannerStyle(),this.setLogStyle(w),this.setText(w,..._)}changeStyle(w){this.setLogStyle(w)}addText(...w){this.element.innerHTML+=" "+this.generateText(...w)}generateText(...w){let _=[];for(let D of w){const q=j.formatData(D);_.push(q[0])}return _.join(" ")}setText(w,..._){let D=[j.getCurrentTime(),this.generateText(..._)];this.element.innerHTML=D.join(" ")}setBannerStyle(){j.setStyle(this.element,{padding:"0px 8px",borderRadius:"2px",width:"fit-content",transition:"all 0.2s ease-out"})}setLogStyle(w){switch(w){case"web-success":j.setStyle(this.element,{backgroundColor:"#33aa11"});break;case"web-pending":j.setStyle(this.element,{backgroundColor:"#4411aa"});break;case"log":j.setStyle(this.element,{backgroundColor:"#4444cc"});break;case"debug":j.setStyle(this.element,{backgroundColor:"#777777"});break;case"info":j.setStyle(this.element,{backgroundColor:"#ffffff",color:"#000000"});break;case"warn":j.setStyle(this.element,{backgroundColor:"#998822"});break;case"error":case"web-error":j.setStyle(this.element,{backgroundColor:"#991111"});break;default:break}}}class J{containerElement;messages=[];originalFn={log:void 0,debug:void 0,info:void 0,warn:void 0,error:void 0};constructor(){this.containerElement=this.createContainerElement(),this.storeOriginalFn(),this.overrideFetch(),this.overrideConsole("log"),this.overrideConsole("debug"),this.overrideConsole("info"),this.overrideConsole("warn"),this.overrideConsole("error")}overrideFetch(){const w=this;window.fetch=new Proxy(window.fetch,{async apply(_,D,q){const z=q[0],E=w.showLog("debug",z.method,z.url.replace(location.protocol+"//","").replace(location.hostname,"")),F=Date.now();let G=await _.apply(D,q);const I=Date.now()-F;if(!G.ok){const K=await G.clone().text();E.changeStyle("web-error"),E.addText(`[${G.status} ${G.statusText}]`,`[${I}ms]`,K)}else E.changeStyle("web-success"),E.addText(`[${G.status}]`,`[${I}ms]`);return G}})}overrideConsole(w){const _=this;window.console[w]=function(D,...q){_.originalFn[w].bind(this,D,...q)(),_.showLog(w,D,...q)}}storeOriginalFn(){this.originalFn={log:console.log,info:console.info,debug:console.debug,warn:console.warn,error:console.error,fetch:window.fetch}}createContainerElement(){const w=document.createElement("div");return w.id="console-overlay-container",j.setStyle(w,{position:"absolute",display:"flex",flexDirection:"column-reverse",gap:"2px",left:"20px",bottom:"40px",borderRadius:"5px",height:"250px",overflow:"auto",zIndex:"30000",width:"calc(100vw - 40px)",opacity:"0.65",fontSize:"0.65rem",fontFamily:"monospace"}),document.body.appendChild(w),w}showLog(w,..._){const D=new H(w,..._);return this.containerElement.insertBefore(D.element,this.containerElement.firstChild),this.messages.push(D),D}}new J;
